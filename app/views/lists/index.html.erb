

<div class="container">
  <div class="row">
    <div class="col-md-12 mt-3">
      <h1>Lists#index</h1>
      <p>Find me in app/views/lists/index.html.erb</p>

      <% @lists.each do |list| %>
      <% @list = list%>
        <div class="card p-3 mb-3">
          <table>
            <h2><%= list.title %> ID: <%= list.id  %> </h2>
              <tr class="row-border">
                <th>#:</th>
                <th>Item:</th>
                <th>Description:</th>
                <th>Price:</th>
                <th>Link:</th>
                <th>Buyer:</th>
              </tr>

          <% list.items.each do |item| %>

              <tr class="row-border">
                <td><%= item.id %></td>
                <td><%= item.item_name %></td>
                <td><%= item.description %></td>
                <td>Â£<%= item.price %></td>
                <td><%= item.link %></td>

                <% if item.buyer.nil? %>
                  <td><%= "Available" %></td>
                <% else %>
                  <td><%= User.find(item.buyer).first_name %></td>
                <% end %>
                <td><%= link_to "Pick", item_path(item), class: 'btn btn-outline-warning', method: :delete, data: { confirm: 'Are you sure that you want to delete this item?' } %></td>
              </tr>
            <% end %>
          </table>
        </div>

      <% end %>

    </div>
  </div>
</div>
